<h1>New insurance certificate</h1>

<!-- Success Message -->
<div *ngIf="successMessage" class="alert alert-success" role="alert">
  {{ successMessage }}
</div>

<!-- Validation Errors -->
<div *ngIf="validationErrors.length > 0" class="alert alert-danger" role="alert">
  <ul class="mb-0">
    <li *ngFor="let error of validationErrors">{{ error }}</li>
  </ul>
</div>

<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <div class="mb-3">
    <label class="form-label">Customer name</label>
    <input type="text" class="form-control" formControlName="customerName">
  </div>
  <div class="mb-3">
    <label class="form-label">Customer date of birth</label>
    <input type="date" class="form-control" formControlName="customerDateOfBirth">
  </div>
  <div class="mb-3">
    <label class="form-label">Insured item</label>
    <input type="text" placeholder="Apple iPhone 14" class="form-control" formControlName="insuredItem">
  </div>
  <div class="mb-3">
    <label class="form-label">Insured sum</label>
    <input type="number" class="form-control" formControlName="insuredSum">
  </div>
  <button 
    type="submit" 
    class="btn btn-primary"
    [disabled]="isSubmitting || form.invalid">
    <span *ngIf="isSubmitting" class="spinner-border spinner-border-sm me-2" role="status"></span>
    {{ isSubmitting ? 'Creating...' : 'Create' }}
  </button>
</form>
